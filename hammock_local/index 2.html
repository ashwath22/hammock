<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Hammock</title>
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png" />
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/jquery.fullPage.css" />

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src='//code.jquery.com/jquery-1.7.2.min.js'></script>
  <script src="js/script.js"></script>
  <script src="js/jquery.fullPage.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="js/socket.js"></script>
    <!-- <style>
    h1 {
        font-size: 48px;
    }
    </style> -->
</head>

<body>
<!--     <button>hellooooooo</button> -->
    <h1 id='hammock'></h1>
    <h1 id='couch'></h1>
    <h1 id='mens'></h1>
    <h1 id='croom'></h1>

    <script>
      var socket = io();

      var topics = [
        { id: 'hammock' },
        { id: 'couch' },
        { id: 'mens' },
        { id: 'croom' },
      ];

      // set all topics
      topics.forEach(function(topic) {
        var id = topic.id;
        // set DOM element
        var el = topic.el = document.getElementById(id);
        // subscribe
        var channel = topic.channel = 'topic:' + id;
        socket.on(channel, function(availability){
          // console.log(channel, availability);
          // store
          topic.availability = availability;
          // show availability into element

          el.innerHTML = id + ': ' + availability;
          if(topic.availability == 0)
          el.innerHTML = 'device free ';
        });
      });
      console.log(topics);

      // request all topics available
      socket.emit('request all topics available');

    </script>
</body>

</html>